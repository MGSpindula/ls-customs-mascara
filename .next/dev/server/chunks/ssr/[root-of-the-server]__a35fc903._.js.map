{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/ls-customs-mascara/src/app/dashboard/page.js"],"sourcesContent":["\"use client\";\nimport { useEffect, useState } from 'react';\n\nexport default function Dashboard() {\n  const [items, setItems] = useState([]);\n  const [reload, setReload] = useState(false);\n  const [openComponents, setOpenComponents] = useState({});\n\n  useEffect(() => {\n    fetch('/api/items/list')\n      .then(r => r.json())\n      .then(setItems);\n  }, [reload]);\n\n  async function deleteItem(id) {\n    const res = await fetch(`/api/items/delete?id=${id}`, {\n      method: 'DELETE'\n    });\n\n    const data = await res.json();\n\n    if (!data.success) {\n      alert(data.error || 'Could not delete item.');\n      return;\n    }\n\n    setReload(!reload);\n  }\n\n  async function addStock(id) {\n    await fetch(`/api/items/add-stock?id=${id}&amount=1`);\n    setReload(!reload);\n  }\n\n  async function removeStock(id) {\n    await fetch(`/api/items/remove-stock?id=${id}&amount=1`);\n    setReload(!reload);\n  }\n\n  function toggleComponents(id) {\n    setOpenComponents(prev => ({\n      ...prev,\n      [id]: !prev[id]\n    }));\n  }\n\n  return (\n    <div className=\"min-h-screen p-10 bg-gray-100\">\n      <h1 className=\"text-4xl font-bold mb-8 text-center\">Stock Dashboard</h1>\n\n      <div className=\"max-w-4xl mx-auto bg-white p-8 rounded-xl shadow\">\n        <h2 className=\"text-2xl font-semibold mb-6\">Items</h2>\n\n        <table className=\"w-full text-left border-collapse\">\n          <thead>\n            <tr>\n              <th className=\"border-b p-3\">Name</th>\n              <th className=\"border-b p-3\">Type</th>\n              <th className=\"border-b p-3\">Net Price</th>\n              <th className=\"border-b p-3\">Stock</th>\n              <th className=\"border-b p-3\">Actions</th>\n            </tr>\n          </thead>\n\n          <tbody>\n            {items.map(itm => (\n              <tr key={itm._id}>\n                <td className=\"border-b p-3\">\n                  {itm.name}\n\n                  {itm.type === 'manufactured' && (\n                    <button\n                      onClick={() => toggleComponents(itm._id)}\n                      className=\"ml-2 text-blue-600 underline\"\n                    >\n                      Components\n                    </button>\n                  )}\n\n                  {openComponents[itm._id] && itm.type === 'manufactured' && (\n                    <div className=\"mt-2 text-sm text-gray-700\">\n                      {itm.components.length === 0 && (\n                        <p>No components found</p>\n                      )}\n\n                      {itm.components.map((comp, i) => (\n                        <div key={i}>\n                          {comp.item?.name} x {comp.qty}\n                        </div>\n                      ))}\n                    </div>\n                  )}\n                </td>\n\n                <td className=\"border-b p-3 capitalize\">{itm.type}</td>\n                <td className=\"border-b p-3\">{itm.netPrice}</td>\n                <td className=\"border-b p-3\">{itm.stock}</td>\n\n                <td className=\"border-b p-3 flex gap-2\">\n                  <button\n                    onClick={() => addStock(itm._id)}\n                    className=\"px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700\"\n                  >\n                    +\n                  </button>\n\n                  <button\n                    onClick={() => removeStock(itm._id)}\n                    className=\"px-3 py-1 bg-yellow-600 text-white rounded hover:bg-yellow-700\"\n                  >\n                    -\n                  </button>\n\n                  <button\n                    onClick={() => deleteItem(itm._id)}\n                    className=\"px-4 py-1 bg-red-600 text-white rounded hover:bg-red-700\"\n                  >\n                    Delete\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n\n        <div className=\"mt-10 flex gap-4\">\n          <a\n            href=\"/dashboard/add-raw\"\n            className=\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700\"\n          >\n            Add Raw Item\n          </a>\n\n          <a\n            href=\"/dashboard/add-manufactured\"\n            className=\"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700\"\n          >\n            Add Manufactured Item\n          </a>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 302, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/ls-customs-mascara/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0]}},
    {"offset": {"line": 321, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/ls-customs-mascara/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0]}},
    {"offset": {"line": 326, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/ls-customs-mascara/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0]}}]
}