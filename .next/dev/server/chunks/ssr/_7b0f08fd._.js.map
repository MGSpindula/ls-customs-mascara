{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/ls-customs-mascara/src/app/dashboard/DashboardClient.jsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from 'react';\n\nexport default function DashboardClient({\n  initialItems = [],\n  listItemsAction,\n  addStockAction,\n  removeStockAction,\n  deleteItemAction\n}) {\n  const [items, setItems] = useState(initialItems);\n  const [openComponents, setOpenComponents] = useState({});\n\n  async function reload() {\n    try {\n      const res = await listItemsAction();\n      if (res && res.success) {\n        setItems(res.data || []);\n      } else {\n        alert(res?.error || 'Failed to load items');\n      }\n    } catch (err) {\n      console.error(err);\n      alert('Failed to load items');\n    }\n  }\n\n  async function callDelete(id) {\n    try {\n      const res = await deleteItemAction(id);\n      if (!res.success) {\n        alert(res.error || 'Failed to delete');\n        return;\n      }\n      await reload();\n    } catch (err) {\n      console.error(err);\n      alert('Failed to delete');\n    }\n  }\n\n  async function callAddStock(id) {\n    try {\n      const res = await addStockAction(id, 1);\n      if (!res.success) {\n        alert(res.error || 'Failed to add stock');\n        return;\n      }\n      await reload();\n    } catch (err) {\n      console.error(err);\n      alert('Failed to add stock');\n    }\n  }\n\n  async function callRemoveStock(id) {\n    try {\n      const res = await removeStockAction(id, 1);\n      if (!res.success) {\n        alert(res.error || 'Failed to remove stock');\n        return;\n      }\n      await reload();\n    } catch (err) {\n      console.error(err);\n      alert('Failed to remove stock');\n    }\n  }\n\n  function toggleComponents(id) {\n    setOpenComponents(prev => ({ ...prev, [id]: !prev[id] }));\n  }\n\n  return (\n    <>\n      <table className=\"w-full text-left border-collapse\">\n        <thead>\n          <tr>\n            <th className=\"border-b p-3\">Name</th>\n            <th className=\"border-b p-3\">Type</th>\n            <th className=\"border-b p-3\">Net Price</th>\n            <th className=\"border-b p-3\">Stock</th>\n            <th className=\"border-b p-3\">Actions</th>\n          </tr>\n        </thead>\n\n        <tbody>\n          {items.map(itm => (\n            <tr key={itm._id}>\n              <td className=\"border-b p-3\">\n                {itm.name}\n\n                {itm.type === 'manufactured' && (\n                  <button\n                    onClick={() => toggleComponents(itm._id)}\n                    className=\"ml-2 text-blue-600 underline\"\n                  >\n                    Components\n                  </button>\n                )}\n\n                {openComponents[itm._id] && itm.type === 'manufactured' && (\n                  <div className=\"mt-2 text-sm text-gray-700\">\n                    {itm.components.length === 0 && <p>No components found</p>}\n\n                    {itm.components.map((comp, i) => (\n                      <div key={i}>\n                        {comp.item?.name} x {comp.qty}\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </td>\n\n              <td className=\"border-b p-3 capitalize\">{itm.type}</td>\n              <td className=\"border-b p-3\">{itm.netPrice}</td>\n              <td className=\"border-b p-3\">{itm.stock}</td>\n\n              <td className=\"border-b p-3 flex gap-2\">\n                <button\n                  onClick={() => callAddStock(itm._id)}\n                  className=\"px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700\"\n                >\n                  +\n                </button>\n\n                <button\n                  onClick={() => callRemoveStock(itm._id)}\n                  className=\"px-3 py-1 bg-yellow-600 text-white rounded hover:bg-yellow-700\"\n                >\n                  -\n                </button>\n\n                <button\n                  onClick={() => callDelete(itm._id)}\n                  className=\"px-4 py-1 bg-red-600 text-white rounded hover:bg-red-700\"\n                >\n                  Delete\n                </button>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 264, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/ls-customs-mascara/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0]}}]
}