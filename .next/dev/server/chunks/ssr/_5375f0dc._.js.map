{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/ls-customs-mascara/src/app/dashboard/add-manufactured/page.js"],"sourcesContent":["\"use client\";\nimport { useState, useEffect } from 'react';\n\nexport default function AddManufactured() {\n  const [name, setName] = useState('');\n\n  const [search, setSearch] = useState('');\n  const [results, setResults] = useState([]);\n\n  const [components, setComponents] = useState([]);\n  const [selectedId, setSelectedId] = useState('');\n  const [qty, setQty] = useState(1);\n\n  useEffect(() => {\n    if (search.length < 1) {\n      setResults([]);\n      return;\n    }\n\n    const timeout = setTimeout(() => {\n      fetch('/api/items/search?query=' + search)\n        .then(r => r.json())\n        .then(setResults);\n    }, 300);\n\n    return () => clearTimeout(timeout);\n  }, [search]);\n\n  function addComponent() {\n    if (!selectedId || qty <= 0) return;\n\n    setComponents([...components, { item: selectedId, qty }]);\n    setSelectedId('');\n    setSearch('');\n    setQty(1);\n    setResults([]);\n  }\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    await fetch('/api/items/add-manufactured', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        name,\n        components\n      })\n    });\n\n    window.location.href = '/dashboard';\n  }\n\n  return (\n    <div className=\"min-h-screen p-10 bg-gray-100\">\n      <form onSubmit={handleSubmit} className=\"bg-white p-8 max-w-xl mx-auto rounded-xl shadow\">\n        \n        <h1 className=\"text-3xl font-bold mb-6\">Add Manufactured Item</h1>\n\n        <input\n          className=\"border p-3 w-full rounded mb-6\"\n          placeholder=\"Product name\"\n          value={name}\n          onChange={e => setName(e.target.value)}\n          required\n        />\n\n        <div className=\"mb-6\">\n          <label className=\"block text-sm mb-2\">Add component</label>\n\n          <input\n            className=\"border p-3 w-full rounded\"\n            placeholder=\"Search raw item\"\n            value={search}\n            onChange={e => {\n              setSearch(e.target.value);\n              setSelectedId('');\n            }}\n          />\n\n          {results.length > 0 && (\n            <div className=\"border p-3 rounded bg-white shadow mt-1 max-h-40 overflow-y-auto\">\n              {results.map(r => (\n                <div\n                  key={r._id}\n                  className=\"p-2 hover:bg-gray-100 cursor-pointer\"\n                  onClick={() => {\n                    setSelectedId(r._id);\n                    setSearch(r.name);\n                    setResults([]);\n                  }}\n                >\n                  {r.name} (ID: {r._id})\n                </div>\n              ))}\n            </div>\n          )}\n\n          {selectedId && (\n            <p className=\"text-sm mt-2 text-green-600\">Selected ID: {selectedId}</p>\n          )}\n\n          <input\n            className=\"border p-3 w-full rounded mt-3\"\n            type=\"number\"\n            placeholder=\"Quantity\"\n            value={qty}\n            onChange={e => setQty(Number(e.target.value))}\n            min=\"1\"\n          />\n\n          <button\n            type=\"button\"\n            onClick={addComponent}\n            className=\"mt-3 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700\"\n          >\n            Add component\n          </button>\n        </div>\n\n        {components.length > 0 && (\n          <div className=\"mb-6\">\n            <h2 className=\"text-xl font-semibold mb-3\">Components</h2>\n            <ul className=\"list-disc pl-6\">\n              {components.map((c, i) => (\n                <li key={i}>\n                  ID: {c.item} qty: {c.qty}\n                </li>\n              ))}\n            </ul>\n          </div>\n        )}\n\n        <button className=\"w-full px-4 py-3 bg-green-600 text-white rounded hover:bg-green-700\">\n          Save manufactured item\n        </button>\n      </form>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AADA;;;AAGe,SAAS;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IAEjC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IACrC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC,EAAE;IAEzC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC,EAAE;IAC/C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,CAAC,KAAK,OAAO,GAAG,IAAA,iNAAQ,EAAC;IAE/B,IAAA,kNAAS,EAAC;QACR,IAAI,OAAO,MAAM,GAAG,GAAG;YACrB,WAAW,EAAE;YACb;QACF;QAEA,MAAM,UAAU,WAAW;YACzB,MAAM,6BAA6B,QAChC,IAAI,CAAC,CAAA,IAAK,EAAE,IAAI,IAChB,IAAI,CAAC;QACV,GAAG;QAEH,OAAO,IAAM,aAAa;IAC5B,GAAG;QAAC;KAAO;IAEX,SAAS;QACP,IAAI,CAAC,cAAc,OAAO,GAAG;QAE7B,cAAc;eAAI;YAAY;gBAAE,MAAM;gBAAY;YAAI;SAAE;QACxD,cAAc;QACd,UAAU;QACV,OAAO;QACP,WAAW,EAAE;IACf;IAEA,eAAe,aAAa,CAAC;QAC3B,EAAE,cAAc;QAEhB,MAAM,MAAM,+BAA+B;YACzC,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBACnB;gBACA;YACF;QACF;QAEA,OAAO,QAAQ,CAAC,IAAI,GAAG;IACzB;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAK,UAAU;YAAc,WAAU;;8BAEtC,8OAAC;oBAAG,WAAU;8BAA0B;;;;;;8BAExC,8OAAC;oBACC,WAAU;oBACV,aAAY;oBACZ,OAAO;oBACP,UAAU,CAAA,IAAK,QAAQ,EAAE,MAAM,CAAC,KAAK;oBACrC,QAAQ;;;;;;8BAGV,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAM,WAAU;sCAAqB;;;;;;sCAEtC,8OAAC;4BACC,WAAU;4BACV,aAAY;4BACZ,OAAO;4BACP,UAAU,CAAA;gCACR,UAAU,EAAE,MAAM,CAAC,KAAK;gCACxB,cAAc;4BAChB;;;;;;wBAGD,QAAQ,MAAM,GAAG,mBAChB,8OAAC;4BAAI,WAAU;sCACZ,QAAQ,GAAG,CAAC,CAAA,kBACX,8OAAC;oCAEC,WAAU;oCACV,SAAS;wCACP,cAAc,EAAE,GAAG;wCACnB,UAAU,EAAE,IAAI;wCAChB,WAAW,EAAE;oCACf;;wCAEC,EAAE,IAAI;wCAAC;wCAAO,EAAE,GAAG;wCAAC;;mCARhB,EAAE,GAAG;;;;;;;;;;wBAcjB,4BACC,8OAAC;4BAAE,WAAU;;gCAA8B;gCAAc;;;;;;;sCAG3D,8OAAC;4BACC,WAAU;4BACV,MAAK;4BACL,aAAY;4BACZ,OAAO;4BACP,UAAU,CAAA,IAAK,OAAO,OAAO,EAAE,MAAM,CAAC,KAAK;4BAC3C,KAAI;;;;;;sCAGN,8OAAC;4BACC,MAAK;4BACL,SAAS;4BACT,WAAU;sCACX;;;;;;;;;;;;gBAKF,WAAW,MAAM,GAAG,mBACnB,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCAA6B;;;;;;sCAC3C,8OAAC;4BAAG,WAAU;sCACX,WAAW,GAAG,CAAC,CAAC,GAAG,kBAClB,8OAAC;;wCAAW;wCACL,EAAE,IAAI;wCAAC;wCAAO,EAAE,GAAG;;mCADjB;;;;;;;;;;;;;;;;8BAQjB,8OAAC;oBAAO,WAAU;8BAAsE;;;;;;;;;;;;;;;;;AAMhG"}},
    {"offset": {"line": 233, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/ls-customs-mascara/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0]}}]
}