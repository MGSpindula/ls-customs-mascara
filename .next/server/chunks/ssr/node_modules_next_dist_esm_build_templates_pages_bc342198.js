module.exports=[6601,a=>{"use strict";var b=a.i(9168),c=a.i(7068),d=a.i(2759),e=a.i(3590),f=a.i(6555),g=a.i(8171),h=a.i(7669);function i(){let[a,b]=(0,h.useState)(""),[c,d]=(0,h.useState)(""),[e,f]=(0,h.useState)([]),[i,j]=(0,h.useState)([]),[k,l]=(0,h.useState)(""),[m,n]=(0,h.useState)(1);async function o(b){b.preventDefault(),await fetch("/api/items/add-manufactured",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a,components:i})}),window.location.href="/dashboard"}return(0,h.useEffect)(()=>{if(c.length<1)return void f([]);let a=setTimeout(()=>{fetch("/api/items/search?query="+c).then(a=>a.json()).then(f)},300);return()=>clearTimeout(a)},[c]),(0,g.jsx)("div",{className:"min-h-screen p-10 bg-gray-100",children:(0,g.jsxs)("form",{onSubmit:o,className:"bg-white p-8 max-w-xl mx-auto rounded-xl shadow",children:[(0,g.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Add Manufactured Item"}),(0,g.jsx)("input",{className:"border p-3 w-full rounded mb-6",placeholder:"Product name",value:a,onChange:a=>b(a.target.value),required:!0}),(0,g.jsxs)("div",{className:"mb-6",children:[(0,g.jsx)("label",{className:"block text-sm mb-2",children:"Add component"}),(0,g.jsx)("input",{className:"border p-3 w-full rounded",placeholder:"Search raw item",value:c,onChange:a=>{d(a.target.value),l("")}}),e.length>0&&(0,g.jsx)("div",{className:"border p-3 rounded bg-white shadow mt-1 max-h-40 overflow-y-auto",children:e.map(a=>(0,g.jsxs)("div",{className:"p-2 hover:bg-gray-100 cursor-pointer",onClick:()=>{l(a._id),d(a.name),f([])},children:[a.name," (ID: ",a._id,")"]},a._id))}),k&&(0,g.jsxs)("p",{className:"text-sm mt-2 text-green-600",children:["Selected ID: ",k]}),(0,g.jsx)("input",{className:"border p-3 w-full rounded mt-3",type:"number",placeholder:"Quantity",value:m,onChange:a=>n(Number(a.target.value)),min:"1"}),(0,g.jsx)("button",{type:"button",onClick:function(){k&&!(m<=0)&&(j([...i,{item:k,qty:m}]),l(""),d(""),n(1),f([]))},className:"mt-3 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Add component"})]}),i.length>0&&(0,g.jsxs)("div",{className:"mb-6",children:[(0,g.jsx)("h2",{className:"text-xl font-semibold mb-3",children:"Components"}),(0,g.jsx)("ul",{className:"list-disc pl-6",children:i.map((a,b)=>(0,g.jsxs)("li",{children:["ID: ",a.item," qty: ",a.qty]},b))})]}),(0,g.jsx)("button",{className:"w-full px-4 py-3 bg-green-600 text-white rounded hover:bg-green-700",children:"Save manufactured item"})]})})}a.s(["default",()=>i],1848);var j=a.i(1848),k=a.i(9193);let l=(0,d.hoist)(j,"default"),m=(0,d.hoist)(j,"getStaticProps"),n=(0,d.hoist)(j,"getStaticPaths"),o=(0,d.hoist)(j,"getServerSideProps"),p=(0,d.hoist)(j,"config"),q=(0,d.hoist)(j,"reportWebVitals"),r=(0,d.hoist)(j,"unstable_getStaticProps"),s=(0,d.hoist)(j,"unstable_getStaticPaths"),t=(0,d.hoist)(j,"unstable_getStaticParams"),u=(0,d.hoist)(j,"unstable_getServerProps"),v=(0,d.hoist)(j,"unstable_getServerSideProps"),w=new b.PagesRouteModule({definition:{kind:c.RouteKind.PAGES,page:"/dashboard/add-manufactured",pathname:"/dashboard/add-manufactured",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:f.default,Document:e.default},userland:j}),x=(0,k.getHandler)({srcPage:"/dashboard/add-manufactured",config:p,userland:j,routeModule:w,getStaticPaths:n,getStaticProps:m,getServerSideProps:o});a.s(["config",0,p,"default",0,l,"getServerSideProps",0,o,"getStaticPaths",0,n,"getStaticProps",0,m,"handler",0,x,"reportWebVitals",0,q,"routeModule",0,w,"unstable_getServerProps",0,u,"unstable_getServerSideProps",0,v,"unstable_getStaticParams",0,t,"unstable_getStaticPaths",0,s,"unstable_getStaticProps",0,r],6601)}];

//# sourceMappingURL=node_modules_next_dist_esm_build_templates_pages_bc342198.js.map